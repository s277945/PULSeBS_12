function cov_11zt0qw4fr() {
  var path = "C:\\Users\\sabat\\IdeaProjects\\PULSeBS_12\\frontend\\src\\api\\api.js";
  var hash = "f7838657ca06f57c0c1f03738fa539ee50a01fa8";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\sabat\\IdeaProjects\\PULSeBS_12\\frontend\\src\\api\\api.js",
    statementMap: {
      "0": {
        start: {
          line: 8,
          column: 25
        },
        end: {
          line: 8,
          column: 39
        }
      },
      "1": {
        start: {
          line: 11,
          column: 4
        },
        end: {
          line: 25,
          column: 6
        }
      },
      "2": {
        start: {
          line: 12,
          column: 24
        },
        end: {
          line: 12,
          column: 39
        }
      },
      "3": {
        start: {
          line: 15,
          column: 12
        },
        end: {
          line: 18,
          column: 13
        }
      },
      "4": {
        start: {
          line: 20,
          column: 12
        },
        end: {
          line: 22,
          column: 13
        }
      },
      "5": {
        start: {
          line: 21,
          column: 16
        },
        end: {
          line: 21,
          column: 36
        }
      },
      "6": {
        start: {
          line: 23,
          column: 12
        },
        end: {
          line: 23,
          column: 41
        }
      },
      "7": {
        start: {
          line: 29,
          column: 4
        },
        end: {
          line: 33,
          column: 6
        }
      },
      "8": {
        start: {
          line: 31,
          column: 12
        },
        end: {
          line: 31,
          column: 26
        }
      },
      "9": {
        start: {
          line: 39,
          column: 4
        },
        end: {
          line: 39,
          column: 90
        }
      },
      "10": {
        start: {
          line: 44,
          column: 4
        },
        end: {
          line: 44,
          column: 96
        }
      },
      "11": {
        start: {
          line: 49,
          column: 4
        },
        end: {
          line: 49,
          column: 95
        }
      },
      "12": {
        start: {
          line: 54,
          column: 4
        },
        end: {
          line: 54,
          column: 117
        }
      },
      "13": {
        start: {
          line: 59,
          column: 4
        },
        end: {
          line: 59,
          column: 154
        }
      },
      "14": {
        start: {
          line: 64,
          column: 4
        },
        end: {
          line: 70,
          column: 10
        }
      },
      "15": {
        start: {
          line: 66,
          column: 12
        },
        end: {
          line: 69,
          column: 13
        }
      },
      "16": {
        start: {
          line: 74,
          column: 4
        },
        end: {
          line: 74,
          column: 86
        }
      }
    },
    fnMap: {
      "0": {
        name: "useResponseInterceptor",
        decl: {
          start: {
            line: 10,
            column: 16
          },
          end: {
            line: 10,
            column: 38
          }
        },
        loc: {
          start: {
            line: 10,
            column: 45
          },
          end: {
            line: 26,
            column: 1
          }
        },
        line: 10
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 12,
            column: 8
          },
          end: {
            line: 12,
            column: 9
          }
        },
        loc: {
          start: {
            line: 12,
            column: 22
          },
          end: {
            line: 12,
            column: 41
          }
        },
        line: 12
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 13,
            column: 8
          },
          end: {
            line: 13,
            column: 9
          }
        },
        loc: {
          start: {
            line: 13,
            column: 31
          },
          end: {
            line: 24,
            column: 9
          }
        },
        line: 13
      },
      "3": {
        name: "useRequestInterceptor",
        decl: {
          start: {
            line: 28,
            column: 16
          },
          end: {
            line: 28,
            column: 37
          }
        },
        loc: {
          start: {
            line: 28,
            column: 44
          },
          end: {
            line: 34,
            column: 1
          }
        },
        line: 28
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 30,
            column: 8
          },
          end: {
            line: 30,
            column: 9
          }
        },
        loc: {
          start: {
            line: 30,
            column: 21
          },
          end: {
            line: 32,
            column: 9
          }
        },
        line: 30
      },
      "5": {
        name: "getLectures",
        decl: {
          start: {
            line: 37,
            column: 16
          },
          end: {
            line: 37,
            column: 27
          }
        },
        loc: {
          start: {
            line: 37,
            column: 29
          },
          end: {
            line: 40,
            column: 1
          }
        },
        line: 37
      },
      "6": {
        name: "getStudentBookedLectures",
        decl: {
          start: {
            line: 42,
            column: 16
          },
          end: {
            line: 42,
            column: 40
          }
        },
        loc: {
          start: {
            line: 42,
            column: 42
          },
          end: {
            line: 45,
            column: 1
          }
        },
        line: 42
      },
      "7": {
        name: "postStudentBookedLecture",
        decl: {
          start: {
            line: 47,
            column: 16
          },
          end: {
            line: 47,
            column: 40
          }
        },
        loc: {
          start: {
            line: 47,
            column: 46
          },
          end: {
            line: 50,
            column: 1
          }
        },
        line: 47
      },
      "8": {
        name: "deleteStudentBookedLecture",
        decl: {
          start: {
            line: 52,
            column: 16
          },
          end: {
            line: 52,
            column: 42
          }
        },
        loc: {
          start: {
            line: 52,
            column: 59
          },
          end: {
            line: 55,
            column: 1
          }
        },
        line: 52
      },
      "9": {
        name: "getStudentList",
        decl: {
          start: {
            line: 57,
            column: 16
          },
          end: {
            line: 57,
            column: 30
          }
        },
        loc: {
          start: {
            line: 57,
            column: 39
          },
          end: {
            line: 60,
            column: 1
          }
        },
        line: 57
      },
      "10": {
        name: "login",
        decl: {
          start: {
            line: 63,
            column: 22
          },
          end: {
            line: 63,
            column: 27
          }
        },
        loc: {
          start: {
            line: 63,
            column: 48
          },
          end: {
            line: 71,
            column: 1
          }
        },
        line: 63
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 65,
            column: 14
          },
          end: {
            line: 65,
            column: 15
          }
        },
        loc: {
          start: {
            line: 65,
            column: 24
          },
          end: {
            line: 70,
            column: 9
          }
        },
        line: 65
      },
      "12": {
        name: "logout",
        decl: {
          start: {
            line: 73,
            column: 16
          },
          end: {
            line: 73,
            column: 22
          }
        },
        loc: {
          start: {
            line: 73,
            column: 24
          },
          end: {
            line: 75,
            column: 1
          }
        },
        line: 73
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 15,
            column: 12
          },
          end: {
            line: 18,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 15,
            column: 12
          },
          end: {
            line: 18,
            column: 13
          }
        }, {
          start: {
            line: 15,
            column: 12
          },
          end: {
            line: 18,
            column: 13
          }
        }],
        line: 15
      },
      "1": {
        loc: {
          start: {
            line: 20,
            column: 12
          },
          end: {
            line: 22,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 20,
            column: 12
          },
          end: {
            line: 22,
            column: 13
          }
        }, {
          start: {
            line: 20,
            column: 12
          },
          end: {
            line: 22,
            column: 13
          }
        }],
        line: 20
      },
      "2": {
        loc: {
          start: {
            line: 20,
            column: 16
          },
          end: {
            line: 20,
            column: 78
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 20,
            column: 16
          },
          end: {
            line: 20,
            column: 45
          }
        }, {
          start: {
            line: 20,
            column: 49
          },
          end: {
            line: 20,
            column: 78
          }
        }],
        line: 20
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "f7838657ca06f57c0c1f03738fa539ee50a01fa8"
  };
  var coverage = global[gcv] || (global[gcv] = {});

  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }

  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_11zt0qw4fr = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}

cov_11zt0qw4fr();
import axios from 'axios';
/**
 * 
 * API - Call to API should only be in here
 * 
 */

export const axiosInst = (cov_11zt0qw4fr().s[0]++, axios.create()); // create axios instance to manage interceptors

export function useResponseInterceptor(auth) {
  cov_11zt0qw4fr().f[0]++;
  cov_11zt0qw4fr().s[1]++;
  // function to set up response interceptor with authentication state and functions
  axiosInst.interceptors.response.use( // create response interceptor
  response => {
    cov_11zt0qw4fr().f[1]++;
    cov_11zt0qw4fr().s[2]++;
    return response;
  }, async function (error) {
    cov_11zt0qw4fr().f[2]++;
    cov_11zt0qw4fr().s[3]++;

    if (error.response.status === 404) {// redirecti to 404 page
      // history.replace("/404")

      cov_11zt0qw4fr().b[0][0]++;
    } else {
      cov_11zt0qw4fr().b[0][1]++;
    }

    cov_11zt0qw4fr().s[4]++;

    if ((cov_11zt0qw4fr().b[2][0]++, error.response.status === 403) || (cov_11zt0qw4fr().b[2][1]++, error.response.status === 401)) {
      cov_11zt0qw4fr().b[1][0]++;
      cov_11zt0qw4fr().s[5]++;
      // in case of expired jwt token
      auth.clearSession(); // clear session data from useProvideAuth() instance method
    } else {
      cov_11zt0qw4fr().b[1][1]++;
    }

    cov_11zt0qw4fr().s[6]++;
    return Promise.reject(error);
  });
}
export function useRequestInterceptor(auth) {
  cov_11zt0qw4fr().f[3]++;
  cov_11zt0qw4fr().s[7]++;
  // function to set up request interceptor with authentication state and functions
  axiosInst.interceptors.request.use( // create request interceptor
  request => {
    cov_11zt0qw4fr().f[4]++;
    cov_11zt0qw4fr().s[8]++;
    //perfrom tasks on request
    return request;
  });
}
export function getLectures() {
  cov_11zt0qw4fr().f[5]++;
  cov_11zt0qw4fr().s[9]++;
  // get list of lectures for student from server
  return axiosInst.get(`http://localhost:3001/api/lectures`, {
    withCredentials: true
  });
}
export function getStudentBookedLectures() {
  cov_11zt0qw4fr().f[6]++;
  cov_11zt0qw4fr().s[10]++;
  // get list of student booked lectures for student from server
  return axiosInst.get(`http://localhost:3001/api/lectures/booked`, {
    withCredentials: true
  });
}
export function postStudentBookedLecture(body) {
  cov_11zt0qw4fr().f[7]++;
  cov_11zt0qw4fr().s[11]++;
  // add booking for a lecture to server
  return axiosInst.post(`http://localhost:3001/api/lectures`, body, {
    withCredentials: true
  });
}
export function deleteStudentBookedLecture(lectureId, date) {
  cov_11zt0qw4fr().f[8]++;
  cov_11zt0qw4fr().s[12]++;
  // tell server to cancel booking for a lecture
  return axiosInst.delete(`http://localhost:3001/api/lectures/${lectureId}?date=${date}`, {
    withCredentials: true
  });
}
export function getStudentList(element) {
  cov_11zt0qw4fr().f[9]++;
  cov_11zt0qw4fr().s[13]++;
  // get list of students booked 
  return axiosInst.get(`http://localhost:3001/api/lectures/listStudents?courseRef=${element.Course_Ref}&date=${element.Date}`, {
    withCredentials: true
  });
}
export async function login(userName, password) {
  cov_11zt0qw4fr().f[10]++;
  cov_11zt0qw4fr().s[14]++;
  return axios.post(`http://localhost:3001/api/login`, {
    userName: userName,
    password: password
  }, {
    withCredentials: true
  }).then(result => {
    cov_11zt0qw4fr().f[11]++;
    cov_11zt0qw4fr().s[15]++;
    return {
      userName: result.data.userID,
      userType: result.data.userType
    };
  });
}
export function logout() {
  cov_11zt0qw4fr().f[12]++;
  cov_11zt0qw4fr().s[16]++;
  return axios.post("http://localhost:3001/api/logout", {}, {
    withCredentials: true
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwaS5qcyJdLCJuYW1lcyI6WyJheGlvcyIsImF4aW9zSW5zdCIsImNyZWF0ZSIsInVzZVJlc3BvbnNlSW50ZXJjZXB0b3IiLCJhdXRoIiwiaW50ZXJjZXB0b3JzIiwicmVzcG9uc2UiLCJ1c2UiLCJlcnJvciIsInN0YXR1cyIsImNsZWFyU2Vzc2lvbiIsIlByb21pc2UiLCJyZWplY3QiLCJ1c2VSZXF1ZXN0SW50ZXJjZXB0b3IiLCJyZXF1ZXN0IiwiZ2V0TGVjdHVyZXMiLCJnZXQiLCJ3aXRoQ3JlZGVudGlhbHMiLCJnZXRTdHVkZW50Qm9va2VkTGVjdHVyZXMiLCJwb3N0U3R1ZGVudEJvb2tlZExlY3R1cmUiLCJib2R5IiwicG9zdCIsImRlbGV0ZVN0dWRlbnRCb29rZWRMZWN0dXJlIiwibGVjdHVyZUlkIiwiZGF0ZSIsImRlbGV0ZSIsImdldFN0dWRlbnRMaXN0IiwiZWxlbWVudCIsIkNvdXJzZV9SZWYiLCJEYXRlIiwibG9naW4iLCJ1c2VyTmFtZSIsInBhc3N3b3JkIiwidGhlbiIsInJlc3VsdCIsImRhdGEiLCJ1c2VySUQiLCJ1c2VyVHlwZSIsImxvZ291dCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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QyxPQUF4QixFQUFnQztBQUFBO0FBQUE7QUFDbkM7QUFDQSxTQUFPMUIsU0FBUyxDQUFDZSxHQUFWLENBQWUsNkRBQTREVyxPQUFPLENBQUNDLFVBQVcsU0FBUUQsT0FBTyxDQUFDRSxJQUFLLEVBQW5ILEVBQXFIO0FBQUVaLElBQUFBLGVBQWUsRUFBRTtBQUFuQixHQUFySCxDQUFQO0FBQ0g7QUFHRCxPQUFPLGVBQWVhLEtBQWYsQ0FBc0JDLFFBQXRCLEVBQWdDQyxRQUFoQyxFQUF5QztBQUFBO0FBQUE7QUFDNUMsU0FBT2hDLEtBQUssQ0FBQ3FCLElBQU4sQ0FBWSxpQ0FBWixFQUE4QztBQUFFVSxJQUFBQSxRQUFRLEVBQUVBLFFBQVo7QUFBc0JDLElBQUFBLFFBQVEsRUFBRUE7QUFBaEMsR0FBOUMsRUFBeUY7QUFBQ2YsSUFBQUEsZUFBZSxFQUFFO0FBQWxCLEdBQXpGLEVBQ0ZnQixJQURFLENBQ0dDLE1BQU0sSUFBSTtBQUFBO0FBQUE7QUFDWixXQUFPO0FBQ0hILE1BQUFBLFFBQVEsRUFBR0csTUFBTSxDQUFDQyxJQUFQLENBQVlDLE1BRHBCO0FBRUhDLE1BQUFBLFFBQVEsRUFBRUgsTUFBTSxDQUFDQyxJQUFQLENBQVlFO0FBRm5CLEtBQVA7QUFJSCxHQU5FLENBQVA7QUFPSDtBQUVELE9BQU8sU0FBU0MsTUFBVCxHQUFpQjtBQUFBO0FBQUE7QUFDcEIsU0FBT3RDLEtBQUssQ0FBQ3FCLElBQU4sQ0FBVyxrQ0FBWCxFQUErQyxFQUEvQyxFQUFtRDtBQUFDSixJQUFBQSxlQUFlLEVBQUU7QUFBbEIsR0FBbkQsQ0FBUDtBQUNIIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJ1xyXG5cclxuLyoqXHJcbiAqIFxyXG4gKiBBUEkgLSBDYWxsIHRvIEFQSSBzaG91bGQgb25seSBiZSBpbiBoZXJlXHJcbiAqIFxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGF4aW9zSW5zdCA9IGF4aW9zLmNyZWF0ZSgpOyAvLyBjcmVhdGUgYXhpb3MgaW5zdGFuY2UgdG8gbWFuYWdlIGludGVyY2VwdG9yc1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVzZVJlc3BvbnNlSW50ZXJjZXB0b3IoYXV0aCkgeyAvLyBmdW5jdGlvbiB0byBzZXQgdXAgcmVzcG9uc2UgaW50ZXJjZXB0b3Igd2l0aCBhdXRoZW50aWNhdGlvbiBzdGF0ZSBhbmQgZnVuY3Rpb25zXHJcbiAgICBheGlvc0luc3QuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZSgvLyBjcmVhdGUgcmVzcG9uc2UgaW50ZXJjZXB0b3JcclxuICAgICAgICAocmVzcG9uc2UpID0+IHsgcmV0dXJuIHJlc3BvbnNlIH0sXHJcbiAgICAgICAgYXN5bmMgZnVuY3Rpb24gKGVycm9yKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpIHtcclxuICAgICAgICAgICAgICAgIC8vIHJlZGlyZWN0aSB0byA0MDQgcGFnZVxyXG4gICAgICAgICAgICAgICAgLy8gaGlzdG9yeS5yZXBsYWNlKFwiLzQwNFwiKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDMgfHwgZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHsvLyBpbiBjYXNlIG9mIGV4cGlyZWQgand0IHRva2VuXHJcbiAgICAgICAgICAgICAgICBhdXRoLmNsZWFyU2Vzc2lvbigpOyAvLyBjbGVhciBzZXNzaW9uIGRhdGEgZnJvbSB1c2VQcm92aWRlQXV0aCgpIGluc3RhbmNlIG1ldGhvZFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVzZVJlcXVlc3RJbnRlcmNlcHRvcihhdXRoKSB7IC8vIGZ1bmN0aW9uIHRvIHNldCB1cCByZXF1ZXN0IGludGVyY2VwdG9yIHdpdGggYXV0aGVudGljYXRpb24gc3RhdGUgYW5kIGZ1bmN0aW9uc1xyXG4gICAgYXhpb3NJbnN0LmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZSgvLyBjcmVhdGUgcmVxdWVzdCBpbnRlcmNlcHRvclxyXG4gICAgICAgIChyZXF1ZXN0KSA9PiB7IC8vcGVyZnJvbSB0YXNrcyBvbiByZXF1ZXN0XHJcbiAgICAgICAgICAgIHJldHVybiByZXF1ZXN0IFxyXG4gICAgICAgIH1cclxuICAgICk7XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGVjdHVyZXMoKXtcclxuICAgIC8vIGdldCBsaXN0IG9mIGxlY3R1cmVzIGZvciBzdHVkZW50IGZyb20gc2VydmVyXHJcbiAgICByZXR1cm4gYXhpb3NJbnN0LmdldChgaHR0cDovL2xvY2FsaG9zdDozMDAxL2FwaS9sZWN0dXJlc2AsIHsgd2l0aENyZWRlbnRpYWxzOiB0cnVlIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3R1ZGVudEJvb2tlZExlY3R1cmVzKCl7XHJcbiAgICAvLyBnZXQgbGlzdCBvZiBzdHVkZW50IGJvb2tlZCBsZWN0dXJlcyBmb3Igc3R1ZGVudCBmcm9tIHNlcnZlclxyXG4gICAgcmV0dXJuIGF4aW9zSW5zdC5nZXQoYGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMS9hcGkvbGVjdHVyZXMvYm9va2VkYCwgeyB3aXRoQ3JlZGVudGlhbHM6IHRydWV9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHBvc3RTdHVkZW50Qm9va2VkTGVjdHVyZShib2R5KXtcclxuICAgIC8vIGFkZCBib29raW5nIGZvciBhIGxlY3R1cmUgdG8gc2VydmVyXHJcbiAgICByZXR1cm4gYXhpb3NJbnN0LnBvc3QoYGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMS9hcGkvbGVjdHVyZXNgLCBib2R5LCB7IHdpdGhDcmVkZW50aWFsczogdHJ1ZX0pXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVTdHVkZW50Qm9va2VkTGVjdHVyZShsZWN0dXJlSWQsIGRhdGUpe1xyXG4gICAgLy8gdGVsbCBzZXJ2ZXIgdG8gY2FuY2VsIGJvb2tpbmcgZm9yIGEgbGVjdHVyZVxyXG4gICAgcmV0dXJuIGF4aW9zSW5zdC5kZWxldGUoYGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMS9hcGkvbGVjdHVyZXMvJHtsZWN0dXJlSWR9P2RhdGU9JHtkYXRlfWAsIHsgd2l0aENyZWRlbnRpYWxzOiB0cnVlfSlcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0dWRlbnRMaXN0KGVsZW1lbnQpe1xyXG4gICAgLy8gZ2V0IGxpc3Qgb2Ygc3R1ZGVudHMgYm9va2VkIFxyXG4gICAgcmV0dXJuIGF4aW9zSW5zdC5nZXQoYGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMS9hcGkvbGVjdHVyZXMvbGlzdFN0dWRlbnRzP2NvdXJzZVJlZj0ke2VsZW1lbnQuQ291cnNlX1JlZn0mZGF0ZT0ke2VsZW1lbnQuRGF0ZX1gLHsgd2l0aENyZWRlbnRpYWxzOiB0cnVlIH0pXHJcbn1cclxuXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9naW4gKHVzZXJOYW1lLCBwYXNzd29yZCl7XHJcbiAgICByZXR1cm4gYXhpb3MucG9zdChgaHR0cDovL2xvY2FsaG9zdDozMDAxL2FwaS9sb2dpbmAsIHsgdXNlck5hbWU6IHVzZXJOYW1lLCBwYXNzd29yZDogcGFzc3dvcmR9LCB7d2l0aENyZWRlbnRpYWxzOiB0cnVlfSlcclxuICAgICAgICAudGhlbihyZXN1bHQgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgdXNlck5hbWUgOiByZXN1bHQuZGF0YS51c2VySUQsXHJcbiAgICAgICAgICAgICAgICB1c2VyVHlwZTogcmVzdWx0LmRhdGEudXNlclR5cGVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsb2dvdXQoKXtcclxuICAgIHJldHVybiBheGlvcy5wb3N0KFwiaHR0cDovL2xvY2FsaG9zdDozMDAxL2FwaS9sb2dvdXRcIiwge30sIHt3aXRoQ3JlZGVudGlhbHM6IHRydWV9KVxyXG59Il19